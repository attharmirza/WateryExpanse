<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Metadata -->
  <title>A Watery Expanse</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Styles & Fonts -->
  <link rel="stylesheet" href="/style.css">
  <link href="https://fonts.googleapis.com/css?family=Zeyada" rel="stylesheet">

  <!-- Scripts -->
  <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>

  <!-- A-Frame -->
  <script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>
  <script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v4.1.2/dist/aframe-extras.min.js"></script>
  <!-- A-Frame Components-->
  <script src="components/float.js"></script>
</head>


<body>
  <a-scene fog="type: linear; color:#ffffff; near: 5; far: 50;">
    <!-- Assets -->
    <a-assets>
    </a-assets>

    <!-- Environment & Objects -->
    <a-entity position="-1 0 -8" rotation="0 28 0" floating="width: 2; depth: 2; dampening: 0.8, 0.8, 0.6; surface: #ocean;">
      <a-box id="pointAverage" width="3" height="0.7" depth="3"></a-box>
    </a-entity>
    <a-entity position="3 0 -5" rotation="0 18 0" floating-small="surface: #ocean;">
      <a-box width="0.2" height="0.2" depth="0.2"></a-box>
    </a-entity>
    <a-entity position="-4 0 -9" rotation="0 45 0" floating-small="surface: #ocean;">
      <a-box width="0.2" height="0.2" depth="0.2"></a-box>
    </a-entity>
    <a-entity position="-1 0 -3" rotation="0 10 0" floating-small="surface: #ocean;">
      <a-box width="0.2" height="0.2" depth="0.2"></a-box>
    </a-entity>
    <a-entity position="1 0 -4" rotation="0 99 0" floating-small="surface: #ocean;">
      <a-box width="0.2" height="0.2" depth="0.2"></a-box>
    </a-entity>
    <a-entity position="1 0 -10" rotation="0 105 0" floating-small="surface: #ocean;">
      <a-box width="0.2" height="0.2" depth="0.2"></a-box>
    </a-entity>
    <a-entity position="2 0 -12" rotation="0 25 0" floating-small="surface: #ocean;">
      <a-box width="0.2" height="0.2" depth="0.2"></a-box>
    </a-entity>

    <!-- Defaults -->
    <a-entity id="camera1" camera look-controls="enabled: false;" position="0 2 0"></a-entity>
    <a-light type="directional" position="3 10 -5"></a-light>
    <a-sky segments-width="10" segments-height="10"></a-sky>
    <a-ocean id="ocean" color="#FFFFFF" width="100" depth="100" density="30" speed="2"></a-ocean>

    <!-- Controllers -->
    <a-entity hand-controls="left"></a-entity>
    <a-entity hand-controls="right"></a-entity>
    <a-entity daydream-controls></a-entity>
  </a-scene>


  <h1>A Watery Expanse</h1>


  <script>
    var scene = document.querySelector('a-scene');
    var camera1 = document.querySelector('#camera1');

    $('h1').click(function() {
      if (scene.hasLoaded) {
        scene.enterVR();
      } else {
        scene.addEventListener('loaded', scene.enterVR);
      }
    });

    scene.addEventListener('enter-vr', function() {
      camera1.setAttribute('look-controls', 'enabled', 'true');
      camera1.setAttribute('wasd-controls', 'enabled', 'true');
    });

    scene.addEventListener('exit-vr', function() {
      camera1.setAttribute('look-controls', 'enabled', 'false');
      camera1.setAttribute('wasd-controls', 'enabled', 'false');
    });
  </script>
</body>

</html>
